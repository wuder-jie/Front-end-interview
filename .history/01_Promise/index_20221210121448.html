<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise</title>
  </head>
  <body>
    <h2>
      Promise
      翻译过来就是承诺的意思，这个承诺会在未来有一个确切的答复，并且该承诺有三种状态，分别是：
      等待中（pending） 完成了 （resolved） 拒绝了（rejected）
      这个承诺一旦从等待状态变成为其他状态就永远不能更改状态了。
    </h2>
    <hr />
    <h3>
      Promise 实现了链式调用，也就是说每次调用 then 之后返回的都是一个
      Promise，并且是一个全新的 Promise，原因也是因为状态不可变。如果你在 then
      中 使用了 return，那么 return 的值会被 Promise.resolve() 包装
    </h3>

    <script>
      /* 
      const p1 = new Promise((resolve, reject) => {
        resolve("success!!");
        // 无效
        // reject("reject");
      });
      console.log(p1); 
      */
      //  当我们在构造 Promise 的时候，构造函数内部的代码是立即执行的：resolve或者reject之外都是同步代码。
      /* 
      new Promise((resolve, reject) => {
        console.log("new Promise属于同步代码，立即执行1");
        resolve("success!!");
        console.log("new Promise属于同步代码，立即执行2");
      });
      console.log("finifsh!!"); 
      */
      Promise.resolve(1).then((res) => {
        console.log(res);
      });
    </script>
  </body>
</html>
